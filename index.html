<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vianney Hastings - Photographe Mariages & Événements</title>
    <meta name="description" content="Photographe professionnel spécialisé dans les mariages, événements et portraits. Paris et région parisienne.">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1a1a1a;
            --secondary: #f8f8f6;
            --accent: #c9a96e;
            --text-light: #666;
            --white: #ffffff;
            --black: #000000;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--primary);
            background: var(--white);
            overflow-x: hidden;
        }

        /* Navigation fixe */
        .nav-horizontal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid #eee;
            z-index: 1000;
            padding: 15px 0;
            transition: all 0.3s ease;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .logo {
            background: none;
            border: none;
            font-family: inherit;
            font-size: 1.4rem;
            font-weight: 500;
            color: var(--primary);
            cursor: pointer;
            white-space: nowrap;
            padding: 6px 12px;
            border-radius: 20px;
            transition: all 0.3s ease;
        }

        .logo:hover {
            background: var(--accent);
            color: var(--white);
        }

        .nav-menu {
            list-style: none;
            display: flex;
            gap: 1.5rem;
        }

        .nav-menu button {
            background: none;
            border: none;
            color: var(--primary);
            font-family: inherit;
            font-size: 0.85rem;
            font-weight: 400;
            padding: 6px 12px;
            border-radius: 20px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            cursor: pointer;
            white-space: nowrap;
        }

        .nav-menu button:hover,
        .nav-menu button.active {
            background: var(--accent);
            color: var(--white);
        }

        /* Menu mobile */
        .menu-toggle {
            display: none;
            flex-direction: column;
            gap: 4px;
            cursor: pointer;
            padding: 8px;
            background: none;
            border: none;
        }
        
        .menu-toggle span {
            width: 25px;
            height: 2px;
            background: var(--primary);
            transition: all 0.3s ease;
        }

        /* Container principal pour scroll continu */
        #app {
            width: 100%;
        }

        .section {
            min-height: 100vh;
            width: 100%;
        }

        /* Hero fullscreen */
        .home-section {
            position: relative;
            width: 100%;
            height: 100vh;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .hero-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://raw.githubusercontent.com/EmailSortpro/vianneyphotography/main/DSC03748.jpg');
            background-size: cover;
            background-position: center 35%;
            background-repeat: no-repeat;
            z-index: 1;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
            z-index: 2;
        }

        .hero-content {
            position: relative;
            z-index: 3;
            text-align: center;
            color: var(--white);
            padding: 0 20px;
        }

        .hero h1 {
            font-size: 4.5rem;
            font-weight: 300;
            margin-bottom: 20px;
            letter-spacing: -1px;
            animation: fadeInUp 1.5s ease-out;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .hero .subtitle {
            font-size: 1.4rem;
            margin-bottom: 40px;
            font-weight: 300;
            letter-spacing: 1px;
            animation: fadeInUp 1.5s ease-out 0.3s both;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .cta-button {
            display: inline-block;
            margin-top: 30px;
            padding: 15px 30px;
            background: var(--accent);
            color: var(--white);
            border: none;
            border-radius: 30px;
            font-weight: 500;
            font-size: 1rem;
            transition: all 0.3s ease;
            animation: fadeInUp 1.5s ease-out 0.9s both;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            cursor: pointer;
        }

        .cta-button:hover {
            background: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.4);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Indicateur de scroll */
        .scroll-indicator {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 4;
            cursor: pointer;
            animation: bounce 2s infinite;
        }

        .scroll-indicator span {
            font-size: 2rem;
            color: var(--white);
            opacity: 0.8;
            transition: opacity 0.3s ease;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            40% {
                transform: translateX(-50%) translateY(-10px);
            }
            60% {
                transform: translateX(-50%) translateY(-5px);
            }
        }

        /* About Section */
        .about-section {
            padding: 100px 40px;
            background: var(--secondary);
            min-height: 100vh;
            display: flex;
            align-items: center;
        }

        .about-content {
            max-width: 1000px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
        }

        .about-text {
            font-size: 1.2rem;
            line-height: 1.8;
            color: var(--text-light);
        }

        .about-text h2 {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 30px;
            color: var(--primary);
        }

        .about-text p {
            margin-bottom: 30px;
        }

        .about-image {
            width: 100%;
            height: 500px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }

        .about-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: grayscale(20%);
        }

        /* Gallery Sections */
        .gallery-section {
            padding: 100px 20px 60px;
            background: var(--secondary);
            min-height: 100vh;
        }

        .gallery-section.white-bg {
            background: var(--white);
        }

        .gallery-header {
            text-align: center;
            margin-bottom: 60px;
            padding: 0 20px;
        }

        .gallery-title {
            font-size: 3rem;
            font-weight: 300;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .gallery-subtitle {
            font-size: 1.2rem;
            color: var(--text-light);
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.8;
            white-space: normal;
        }

        /* Grille de galerie avec photos carrées */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 10px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .gallery-item {
            position: relative;
            overflow: hidden;
            background: #f0f0f0;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            aspect-ratio: 1;
        }

        .gallery-item:hover {
            transform: scale(1.02);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
            z-index: 10;
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.08);
        }

        /* Section mariage spéciale */
        .wedding-intro {
            background: var(--white);
            padding: 60px 40px;
            margin-bottom: 40px;
        }

        .wedding-content {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        /* Grille 4 colonnes FLEXBOX */
        .four-columns {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin-top: 40px;
            width: 100%;
        }

        .column-item {
            flex: 1;
            padding: 25px 15px;
            background: var(--secondary);
            border-radius: 12px;
            transition: all 0.3s ease;
            text-align: center;
            min-width: 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .column-item:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
            background: var(--white);
        }

        .column-item h3 {
            color: var(--accent);
            margin-bottom: 12px;
            font-size: 1.15rem;
            font-weight: 600;
        }

        .column-item p {
            color: var(--text-light);
            line-height: 1.5;
            font-size: 0.9rem;
        }

        /* Sites web section */
        .web-section {
            padding: 100px 40px;
            background: var(--white);
            min-height: 100vh;
        }

        .web-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .web-header {
            text-align: center;
            margin-bottom: 80px;
        }

        /* Contact Section */
        .contact-section {
            padding: 100px 40px;
            background: var(--secondary);
            min-height: 100vh;
        }

        .contact-container {
            max-width: 1000px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
        }

        .contact-form {
            background: var(--white);
            padding: 40px;
            border-radius: 8px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--primary);
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
            background: var(--white);
        }

        .submit-btn {
            background: var(--accent);
            color: var(--white);
            padding: 15px 30px;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .submit-btn:hover {
            background: #b8956a;
            transform: translateY(-2px);
        }

        /* Lightbox */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .lightbox.active {
            display: flex;
        }

        .lightbox-content {
            max-width: 90%;
            max-height: 90%;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lightbox img {
            max-width: 100%;
            max-height: 90vh;
            object-fit: contain;
        }

        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 40px;
            font-size: 3rem;
            color: var(--white);
            cursor: pointer;
            z-index: 2001;
        }

        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 3rem;
            color: var(--white);
            cursor: pointer;
            padding: 20px;
            background: rgba(0,0,0,0.3);
            user-select: none;
        }

        .lightbox-nav:hover {
            background: rgba(0,0,0,0.6);
        }

        .lightbox-prev {
            left: 20px;
        }

        .lightbox-next {
            right: 20px;
        }

        .lightbox-counter {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: var(--white);
            font-size: 1rem;
            background: rgba(0,0,0,0.5);
            padding: 8px 16px;
            border-radius: 20px;
        }

        /* Loading */
        .loading {
            text-align: center;
            padding: 40px;
            color: var(--text-light);
        }

        /* Responsive */
        @media (max-width: 968px) {
            .menu-toggle {
                display: flex;
            }
            
            .nav-menu {
                position: fixed;
                top: 70px;
                left: -100%;
                width: 100%;
                height: calc(100vh - 70px);
                background: var(--white);
                flex-direction: column;
                justify-content: start;
                align-items: center;
                padding-top: 2rem;
                transition: left 0.3s ease;
                box-shadow: 0 2px 20px rgba(0,0,0,0.1);
                z-index: 999;
            }
            
            .nav-menu.mobile-active {
                left: 0;
            }

            .nav-menu button {
                font-size: 1rem;
                padding: 10px 20px;
            }

            .hero h1 {
                font-size: 3rem;
            }

            .gallery-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }

            .about-content,
            .contact-container {
                grid-template-columns: 1fr;
            }

            .four-columns {
                flex-wrap: wrap;
            }

            .column-item {
                flex: 1 1 45%;
            }
        }

        @media (max-width: 600px) {
            .four-columns {
                flex-direction: column;
            }

            .column-item {
                flex: 1 1 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-horizontal">
        <div class="nav-container">
            <button class="logo" onclick="scrollToSection('home')">Vianney Hastings</button>
            <ul class="nav-menu" id="navMenu">
                <li><button onclick="scrollToSection('home')" class="active">Accueil</button></li>
                <li><button onclick="scrollToSection('about')">À propos</button></li>
                <li><button onclick="scrollToSection('portrait')">Portrait</button></li>
                <li><button onclick="scrollToSection('mariage')">Mariage</button></li>
                <li><button onclick="scrollToSection('reportage')">Reportage</button></li>
                <li><button onclick="scrollToSection('web')">Sites Web</button></li>
                <li><button onclick="scrollToSection('contact')">Contact</button></li>
            </ul>
            <button class="menu-toggle" onclick="toggleMobileMenu()">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Container principal avec toutes les sections -->
    <div id="app">
        <!-- Section Accueil -->
        <section id="home" class="section home-section">
            <div class="hero-background"></div>
            <div class="hero-overlay"></div>
            <div class="hero-content">
                <h1>Vianney Hastings</h1>
                <p class="subtitle">Photographe Mariages, Événements, Portraits</p>
                <button class="cta-button" onclick="scrollToSection('about')">Découvrir mon travail</button>
            </div>
            <div class="scroll-indicator" onclick="scrollToSection('about')">
                <span>↓</span>
            </div>
        </section>

        <!-- Section À propos -->
        <section id="about" class="section about-section">
            <div class="about-content">
                <div class="about-text">
                    <h2>À propos</h2>
                    <p>Vianney, 30 ans, photographe de passion, originaire de Nantes, j'ai beaucoup voyagé entre l'Amérique du sud, l'Asie et le Royaume-Uni où j'ai résidé pendant 5 ans.</p>
                    <p>Mon goût pour le voyage m'a donné cette passion pour la photographie que j'ai envie de partager aujourd'hui. J'ai hâte de pouvoir échanger avec vous et de vous accompagner sur chacun de vos projets.</p>
                </div>
                <div class="about-image">
                    <img src="https://raw.githubusercontent.com/EmailSortpro/vianneyphotography/main/Vianney.jpg" alt="Portrait de Vianney Hastings">
                </div>
            </div>
        </section>

        <!-- Section Portrait -->
        <section id="portrait" class="section gallery-section">
            <div class="gallery-header">
                <h2 class="gallery-title">Portraits</h2>
                <p class="gallery-subtitle">Capturer l'essence de chaque personnalité dans des portraits authentiques et naturels</p>
            </div>
            <div id="portrait-gallery" class="gallery-grid">
                <div class="loading">Chargement des images...</div>
            </div>
        </section>

        <!-- Section Mariage -->
        <section id="mariage" class="section gallery-section white-bg">
            <div class="wedding-intro">
                <div class="wedding-content">
                    <h2 style="font-size: 3rem; font-weight: 300; color: var(--primary); margin-bottom: 30px;">Mariages</h2>
                    <p style="font-size: 1.2rem; color: var(--text-light); line-height: 1.8; margin-bottom: 40px;">
                        Votre mariage est unique, et chaque instant mérite d'être immortalisé avec élégance.
                    </p>
                    <div class="four-columns">
                        <div class="column-item">
                            <h3>Préparatifs</h3>
                            <p>Les moments intimes de préparation, l'émotion des premiers regards.</p>
                        </div>
                        <div class="column-item">
                            <h3>Cérémonie</h3>
                            <p>L'échange des vœux, les larmes de joie, capturés avec sensibilité.</p>
                        </div>
                        <div class="column-item">
                            <h3>Réception</h3>
                            <p>L'ambiance festive et tous les moments spontanés de votre soirée.</p>
                        </div>
                        <div class="column-item">
                            <h3>Couple</h3>
                            <p>Des portraits romantiques dans des décors soigneusement choisis.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="gallery-header">
                <p class="gallery-subtitle">Découvrez une sélection de mes plus beaux mariages</p>
            </div>
            <div id="wedding-gallery" class="gallery-grid">
                <div class="loading">Chargement des images...</div>
            </div>
        </section>

        <!-- Section Reportage -->
        <section id="reportage" class="section gallery-section">
            <div class="gallery-header">
                <h2 class="gallery-title">Reportages & Architecture</h2>
                <p class="gallery-subtitle">Raconter des histoires à travers l'objectif, capturer l'essence des lieux et des moments.</p>
            </div>
            <div id="reportage-gallery" class="gallery-grid">
                <div class="loading">Chargement des images...</div>
            </div>
        </section>

        <!-- Section Sites Web -->
        <section id="web" class="section web-section">
            <div class="web-content">
                <div class="web-header">
                    <h2 style="font-size: 3rem; font-weight: 300; color: var(--primary); margin-bottom: 20px;">Création de Sites Web</h2>
                    <p style="font-size: 1.2rem; color: var(--text-light); max-width: 700px; margin: 0 auto; line-height: 1.8;">
                        En complément de mes services photographiques, je propose la création de sites web personnalisés.
                    </p>
                </div>
                <div class="four-columns">
                    <div class="column-item">
                        <h3>🔍 Qualification du besoin</h3>
                        <p>Entretien initial pour comprendre vos objectifs et créer un site qui vous ressemble.</p>
                    </div>
                    <div class="column-item">
                        <h3>🧭 Définition du périmètre</h3>
                        <p>Choix des fonctionnalités et technologies. Prestation photo sur site possible.</p>
                    </div>
                    <div class="column-item">
                        <h3>🛠️ Création et validation</h3>
                        <p>Développement, tests et validation finale avant mise en ligne.</p>
                    </div>
                    <div class="column-item">
                        <h3>🔄 Évolutions</h3>
                        <p>Retouches et forfaits de maintenance pour faire évoluer votre site.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section Contact -->
        <section id="contact" class="section contact-section">
            <div class="contact-container">
                <div>
                    <h3 style="font-size: 2rem; margin-bottom: 40px; color: var(--primary);">Parlons de votre projet</h3>
                    <div style="margin-bottom: 30px;">
                        <h4 style="font-size: 0.9rem; font-weight: 500; color: var(--accent); margin-bottom: 10px; text-transform: uppercase;">Téléphone</h4>
                        <p style="color: var(--text-light); font-size: 1.1rem;">07 67 28 80 86</p>
                    </div>
                    <div style="margin-bottom: 30px;">
                        <h4 style="font-size: 0.9rem; font-weight: 500; color: var(--accent); margin-bottom: 10px; text-transform: uppercase;">Email</h4>
                        <p style="color: var(--text-light); font-size: 1.1rem;">vianneyhastings@gmail.com</p>
                    </div>
                    <div>
                        <h4 style="font-size: 0.9rem; font-weight: 500; color: var(--accent); margin-bottom: 10px; text-transform: uppercase;">Localisation</h4>
                        <p style="color: var(--text-light); font-size: 1.1rem;">Paris et région parisienne<br>Déplacements possibles</p>
                    </div>
                </div>
                <div class="contact-form">
                    <form onsubmit="handleSubmit(event)">
                        <div class="form-group">
                            <label>Nom *</label>
                            <input type="text" required>
                        </div>
                        <div class="form-group">
                            <label>Email *</label>
                            <input type="email" required>
                        </div>
                        <div class="form-group">
                            <label>Message</label>
                            <textarea rows="5" placeholder="Décrivez votre projet..."></textarea>
                        </div>
                        <button type="submit" class="submit-btn">Envoyer le message</button>
                    </form>
                </div>
            </div>
        </section>
    </div>

    <!-- Lightbox -->
    <div id="lightbox" class="lightbox">
        <span class="lightbox-close" onclick="closeLightbox()">&times;</span>
        <span class="lightbox-nav lightbox-prev" onclick="changeLightboxImage(-1)">‹</span>
        <span class="lightbox-nav lightbox-next" onclick="changeLightboxImage(1)">›</span>
        <div class="lightbox-content">
            <img id="lightbox-img" src="" alt="">
        </div>
        <div class="lightbox-counter">
            <span id="current-img">1</span> / <span id="total-img">1</span>
        </div>
    </div>

    <script>
        // Variables globales
        let currentGalleryImages = [];
        let currentImageIndex = 0;
        let galleryCache = {};
        let currentSection = 'home';

        // Navigation par scroll vers les sections
        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
                currentSection = sectionId;
                updateNavActive(sectionId);
                
                // Fermer le menu mobile
                document.querySelector('.nav-menu').classList.remove('mobile-active');
                document.querySelector('.menu-toggle').classList.remove('active');
                
                // Charger les galeries si nécessaire
                if (sectionId === 'portrait') {
                    loadGallery('portrait', 'portrait-gallery');
                } else if (sectionId === 'mariage') {
                    loadGallery('wedding', 'wedding-gallery');
                } else if (sectionId === 'reportage') {
                    loadReportageGallery();
                }
            }
        }

        // Mettre à jour le menu actif
        function updateNavActive(sectionId) {
            document.querySelectorAll('.nav-menu button').forEach(btn => {
                btn.classList.remove('active');
                if (btn.textContent.toLowerCase().includes(sectionId) || 
                    (sectionId === 'home' && btn.textContent === 'Accueil') ||
                    (sectionId === 'about' && btn.textContent === 'À propos') ||
                    (sectionId === 'web' && btn.textContent === 'Sites Web')) {
                    btn.classList.add('active');
                }
            });
        }

        // Chargement des galeries SANS LIMITE
        async function loadGallery(folder, containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            // Utiliser le cache si disponible
            if (galleryCache[folder]) {
                displayGallery(galleryCache[folder], container);
                return;
            }
            
            container.innerHTML = '<div class="loading">Chargement des images...</div>';
            
            try {
                const response = await fetch(`https://api.github.com/repos/EmailSortpro/vianneyphotography/contents/${folder}`);
                const files = await response.json();
                
                // Filtrer les images SANS LIMITE
                const imageFiles = files.filter(file => 
                    /\.(jpg|jpeg|png|gif|webp)$/i.test(file.name)
                );
                
                // Mettre en cache
                galleryCache[folder] = imageFiles;
                
                // Afficher toutes les images
                displayGallery(imageFiles, container);
                
            } catch (error) {
                console.error('Erreur:', error);
                container.innerHTML = '<div class="loading">Erreur lors du chargement</div>';
            }
        }

        // Chargement galerie reportage (combine reportage et archi)
        async function loadReportageGallery() {
            const container = document.getElementById('reportage-gallery');
            if (!container) return;
            
            if (galleryCache['reportage']) {
                displayGallery(galleryCache['reportage'], container);
                return;
            }
            
            container.innerHTML = '<div class="loading">Chargement des images...</div>';
            
            try {
                const [reportageResponse, archiResponse] = await Promise.all([
                    fetch(`https://api.github.com/repos/EmailSortpro/vianneyphotography/contents/reportage`),
                    fetch(`https://api.github.com/repos/EmailSortpro/vianneyphotography/contents/archi`)
                ]);
                
                const reportageFiles = await reportageResponse.json();
                const archiFiles = await archiResponse.json();
                
                // Combiner TOUTES les images sans limite
                const allFiles = [...reportageFiles, ...archiFiles];
                const imageFiles = allFiles.filter(file => 
                    /\.(jpg|jpeg|png|gif|webp)$/i.test(file.name)
                );
                
                galleryCache['reportage'] = imageFiles;
                displayGallery(imageFiles, container);
                
            } catch (error) {
                console.error('Erreur:', error);
                container.innerHTML = '<div class="loading">Erreur lors du chargement</div>';
            }
        }

        // Affichage de la galerie
        function displayGallery(images, container) {
            container.innerHTML = '';
            const imageUrls = [];
            const fragment = document.createDocumentFragment();
            
            images.forEach((file, index) => {
                imageUrls.push(file.download_url);
                
                const item = document.createElement('div');
                item.className = 'gallery-item';
                item.onclick = () => openLightbox(imageUrls, index);
                
                const img = document.createElement('img');
                img.src = file.download_url;
                img.alt = 'Photo';
                img.loading = 'lazy';
                
                item.appendChild(img);
                fragment.appendChild(item);
            });
            
            container.appendChild(fragment);
        }

        // Lightbox
        function openLightbox(images, index) {
            currentGalleryImages = images;
            currentImageIndex = index;
            updateLightboxImage();
            document.getElementById('lightbox').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function updateLightboxImage() {
            document.getElementById('lightbox-img').src = currentGalleryImages[currentImageIndex];
            document.getElementById('current-img').textContent = currentImageIndex + 1;
            document.getElementById('total-img').textContent = currentGalleryImages.length;
        }

        function changeLightboxImage(direction) {
            currentImageIndex += direction;
            if (currentImageIndex < 0) {
                currentImageIndex = currentGalleryImages.length - 1;
            } else if (currentImageIndex >= currentGalleryImages.length) {
                currentImageIndex = 0;
            }
            updateLightboxImage();
        }

        function closeLightbox() {
            document.getElementById('lightbox').classList.remove('active');
            document.body.style.overflow = '';
        }

        // Menu mobile
        function toggleMobileMenu() {
            const navMenu = document.querySelector('.nav-menu');
            const menuToggle = document.querySelector('.menu-toggle');
            navMenu.classList.toggle('mobile-active');
            menuToggle.classList.toggle('active');
        }

        // Formulaire
        function handleSubmit(e) {
            e.preventDefault();
            const btn = e.target.querySelector('.submit-btn');
            btn.textContent = 'Message envoyé !';
            btn.style.background = '#4CAF50';
            setTimeout(() => {
                btn.textContent = 'Envoyer le message';
                btn.style.background = '';
                e.target.reset();
            }, 3000);
        }

        // Détection du scroll pour changer la section active
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('.section');
            let current = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (scrollY >= (sectionTop - 100)) {
                    current = section.getAttribute('id');
                }
            });
            
            if (current && current !== currentSection) {
                currentSection = current;
                updateNavActive(current);
            }
        });

        // Scroll avec la molette
        let isScrolling = false;
        window.addEventListener('wheel', (e) => {
            if (isScrolling) return;
            
            const sections = ['home', 'about', 'portrait', 'mariage', 'reportage', 'web', 'contact'];
            const currentIndex = sections.indexOf(currentSection);
            
            if (e.deltaY > 0 && currentIndex < sections.length - 1) {
                isScrolling = true;
                scrollToSection(sections[currentIndex + 1]);
                setTimeout(() => { isScrolling = false; }, 1000);
            } else if (e.deltaY < 0 && currentIndex > 0) {
                isScrolling = true;
                scrollToSection(sections[currentIndex - 1]);
                setTimeout(() => { isScrolling = false; }, 1000);
            }
        }, { passive: true });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            const lightbox = document.getElementById('lightbox');
            if (lightbox.classList.contains('active')) {
                if (e.key === 'Escape') closeLightbox();
                else if (e.key === 'ArrowLeft') changeLightboxImage(-1);
                else if (e.key === 'ArrowRight') changeLightboxImage(1);
            }
        });

        // Initialisation
        document.addEventListener('DOMContentLoaded', () => {
            updateNavActive('home');
        });
    </script>
</body>
</html>
